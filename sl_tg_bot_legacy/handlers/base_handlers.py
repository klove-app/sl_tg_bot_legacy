from bot_instance import bot
from database.logger import logger

@bot.message_handler(commands=['help'])
def show_help(message):
    """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥"""
    help_text = (
        "üèÉ‚Äç‚ôÇÔ∏è <b>–ë–æ—Ç –¥–ª—è —É—á–µ—Ç–∞ –ø—Ä–æ–±–µ–∂–µ–∫</b>\n\n"
        
        "üìù <b>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–±–µ–∂–µ–∫:</b>\n"
        "‚îú –ü—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É —Å–æ–æ–±—â–µ–Ω–∏–µ —Å\n"
        "‚îú –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø—Ä–æ–π–¥–µ–Ω–Ω—ã—Ö –∫–∏–ª–æ–º–µ—Ç—Ä–æ–≤\n"
        "‚îî –ù–∞–ø—Ä–∏–º–µ—Ä: 5.2 –∏–ª–∏ 10\n\n"
        
        "üìä <b>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:</b>\n"
        "‚îú /stats - –õ–∏—á–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞\n"
        "‚îî /top - –†–µ–π—Ç–∏–Ω–≥ –±–µ–≥—É–Ω–æ–≤\n\n"
        
        "üéØ <b>–õ–∏—á–Ω—ã–µ —Ü–µ–ª–∏:</b>\n"
        "‚îú /setgoal - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–∏—á–Ω—É—é —Ü–µ–ª—å\n"
        "‚îî /checkgoal - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ü–µ–ª–∏\n\n"
        
        "üë• <b>–ì—Ä—É–ø–ø–æ–≤—ã–µ —Ü–µ–ª–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤):</b>\n"
        "‚îú /chatgoal - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±—â–µ–π —Ü–µ–ª–∏\n"
        "‚îú /setchatgoal - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ü–µ–ª—å –¥–ª—è —á–∞—Ç–∞\n"
        "‚îî /updatechatgoal - –ò–∑–º–µ–Ω–∏—Ç—å —Ü–µ–ª—å —á–∞—Ç–∞\n\n"
        
        "‚ÑπÔ∏è <b>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:</b>\n"
        "‚îú /start - –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º\n"
        "‚îî /help - –ü–æ–∫–∞–∑–∞—Ç—å —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ\n\n"
        
        "üí° <b>–ü–æ–¥—Å–∫–∞–∑–∫–∏:</b>\n"
        "‚îú –ë–æ—Ç –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —á–∏—Å–ª–∞ —Å —Ç–æ—á–∫–æ–π –∏–ª–∏ –∑–∞–ø—è—Ç–æ–π, —Ç–∞–∫ –∂–µ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—Ç–∫—É –≤ —Å–≤–æ–±–æ–¥–Ω–æ–º –≤–∏–¥–µ\n"
        "‚îú –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏\n"
        "‚îî –û–±—â–∞—è —Ü–µ–ª—å —Å—á–∏—Ç–∞–µ—Ç—Å—è –¥–ª—è –≤—Å–µ–≥–æ —á–∞—Ç–∞"
    )
    
    try:
        bot.reply_to(message, help_text, parse_mode='HTML')
    except Exception as e:
        logger.error(f"Error in show_help: {e}")
        bot.reply_to(message, "‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –ø–æ–º–æ—â–∏") 